<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/neologo.png" />
    <style>
      /* Only target the specific bottom-right badge text to avoid affecting app UI */
      .hide-trae-badge { display: none !important; }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NeoFi Systems</title>
    <script type="module">
      if (import.meta.hot?.on) {
        import.meta.hot.on('vite:error', (error) => {
          if (error.err) {
            console.error(
              [error.err.message, error.err.frame].filter(Boolean).join('\n'),
            )
          }
        })
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      (function() {
        function isTraeBadge(el) {
          try {
            var text = (el.textContent || '').trim();
            var rect = el.getBoundingClientRect();
            var isBottomRight = rect && (window.innerWidth - rect.right < 180) && (window.innerHeight - rect.bottom < 180);
            return text === 'TRAE SOLO' && isBottomRight;
          } catch (_) { return false; }
        }
        function hideTraeBadge() {
          var all = document.querySelectorAll('body *');
          for (var i = 0; i < all.length; i++) {
            var el = all[i];
            if (isTraeBadge(el)) {
              var container = el.closest('*');
              if (container && container.classList) container.classList.add('hide-trae-badge');
            }
          }
          // Also hide iframes anchored at bottom-right that may contain the badge
          var iframes = document.querySelectorAll('iframe');
          for (var k = 0; k < iframes.length; k++) {
            var f = iframes[k];
            try {
              var r = f.getBoundingClientRect();
              var isBR = r && (window.innerWidth - r.right < 180) && (window.innerHeight - r.bottom < 180);
              var z = window.getComputedStyle(f).zIndex;
              if (isBR && parseInt(z || '0', 10) >= 1) {
                f.style.display = 'none';
              }
            } catch (_) {}
          }
        }
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', hideTraeBadge);
        } else {
          hideTraeBadge();
        }
        new MutationObserver(hideTraeBadge).observe(document.documentElement, { childList: true, subtree: true });
        // Ensure late injections are caught
        var attempts = 0;
        var timer = setInterval(function() {
          hideTraeBadge();
          attempts++;
          if (attempts > 40) clearInterval(timer);
        }, 250);
      })();
    </script>
  </body>
</html>
